<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>أبو عبدو لخدمات الشحن</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --brand:#0d85ba;
      --bg:#f7f9fc;
      --card:#ffffff;
      --text:#0a0a0a;
      --muted:#6e7280;
      --danger:#b91c1c;
    }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Tahoma,Arial;margin:0;
      background:var(--bg);color:var(--text);}
    .container{max-width:980px;margin:auto;padding:0 16px}
    header{position:sticky;top:0;z-index:20;background:var(--brand);color:#fff;
      border-bottom:2px solid #083a7a}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 0}
    .brand img{height:40px;width:auto}
    .nav h1{flex:1;text-align:center;font-size:22px;font-weight:800;margin:0}
    .links{display:flex;align-items:center;gap:12px;list-style:none;margin:0;padding:0}
    .links a{color:#fff;text-decoration:none;padding:8px 10px;border-radius:8px}
    .links a:hover{background:#084a96}
    main{padding:20px 0}
    .card{background:var(--card);border-radius:14px;box-shadow:0 6px 18px rgba(0,0,0,.06);
      padding:18px;margin:14px 0}
    .form-group{margin:10px 0}
    label{display:block;font-weight:700;margin-bottom:6px}
    input,select,textarea{width:100%;padding:12px 14px;border:1px solid #d8dee9;
      border-radius:10px;font-size:16px}
    button{background:var(--brand);color:#fff;border:none;cursor:pointer;padding:12px 20px;
      border-radius:10px;font-size:16px}
    button.secondary{background:#e5e7eb;color:#111}
    .muted{color:var(--muted);font-size:14px}
    option[disabled]{color:gray}
    footer{padding:16px;background:#374151;color:#fff;text-align:center}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="logo.png" alt="شعار أبو عبدو للشحن" />
      </div>

      <!-- العنوان في المنتصف -->
      <h1>أبو عبدو لخدمات الشحن</h1>

      <ul class="links">
        <li><a href="#">الرئيسية</a></li>
        <li><a href="#step1">من 🚪 إلى 🚪</a></li>
        <li><a href="https://wa.me/966542354559" target="_blank" rel="noopener">تواصل واتساب</a></li>
      </ul>
    </div>
  </header>

  <main class="container">
  
  <!-- ✅ بداية الـ form لتفعيل التحقق -->
  <form id="shippingForm" novalidate>
    <!-- الخطوة ١ -->
    <section id="step1" class="card">
      <h2 class="title">الخطوة ١ — بيانات الشحن</h2>
      <p class="muted">من السعودية إلى السودان. بعد الضغط على “التالي” ستنتقل لإضافة نوع الشحنة (لا توجد أسعار في الموقع).</p>

      <div class="form-group">
        <label for="saCity">مدينة الشحن (السعودية) <span class="req">*</span></label>
        <select id="saCity" required>
          <option value="">اختر</option>
          <option>الرياض</option>
          <option>جدة</option>
          <option>مكة</option>
          <option>المدينة</option>
          <option>الدمام</option>
          <option>الخبر</option>
          <option>القصيم</option>
          <option>أبها</option>
        </select>
      </div>

      <div class="form-group">
        <label for="sdState">الولاية (السودان) <span class="req">*</span></label>
        <select id="sdState" required></select>
      </div>

      <div class="form-group">
        <label for="regionName">اسم المنطقة (إجباري) <span class="req">*</span></label>
        <input id="regionName" placeholder="مثال: حي السوق — جوار المستشفى" required />
      </div>

      <div class="row">
        <div class="form-group">
          <label for="senderName">اسم المرسل <span class="req">*</span></label>
          <input id="senderName" placeholder="مثال: أحمد علي" required />
        </div>
        <div class="form-group">
          <label for="senderPhone">رقم المرسل (السعودية) <span class="req">*</span></label>
          <input id="senderPhone" placeholder="05xxxxxxxx" inputmode="tel" pattern="^0?5\d{8}$" required />
        </div>
      </div>

      <div class="form-group">
        <label for="senderAddress">عنوان المرسل — الحي، الشارع، معلم بارز <span class="req">*</span></label>
        <input id="senderAddress" placeholder="مثال: حي النسيم، شارع حسان بن ثابت، بجوار مسجد الهدى" required />
      </div>

      <div class="row">
        <div class="form-group">
          <label for="receiverName">اسم المستلم <span class="req">*</span></label>
          <input id="receiverName" placeholder="مثال: محمد حسن" required />
        </div>
        <div class="form-group">
          <label for="receiverPhone">رقم المستلم (السودان) <span class="req">*</span></label>
          <input id="receiverPhone" placeholder="+249xxxxxxxxx" inputmode="tel" pattern="^\+?249\d{9}$" required />
        </div>
      </div>

      <div class="form-group">
        <label for="clientPhone">رقم جوال العميل (السعودية) <span class="req">*</span></label>
        <input id="clientPhone" placeholder="05xxxxxxxx" inputmode="tel" pattern="^0?5\d{8}$" required />
      </div>

      <div class="form-group">
        <label for="clientAddress">عنوان العميل</label>
        <input id="clientAddress" placeholder="الحي، الشارع، أقرب معلم…" />
      </div>

      <div class="form-group">
        <label for="shipSpeed">نوع الشحن</label>
        <select id="shipSpeed">
          <option>شحن عادي</option>
          <option>شحن سريع</option>
        </select>
      </div>

      <div style="display:flex;gap:10px;margin-top:12px">
        <!-- ✅ مهم: type="button" -->
        <button type="button" id="toStep2">التالي</button>
      </div>
    </section>
  </form>
  <!-- ✅ نهاية الـ form -->
    
  <!-- الخطوة ٢ -->
  <section id="step2" class="card" style="display:none">
    <h2>الخطوة ٢ – إضافة الشحنات</h2>

    <div class="form-group">
      <label for="item">نوع الشحنة <span class="req">*</span></label>
      <select id="item" required>
        <option value="">اختر</option>

        <!-- طرود عامة -->
        <optgroup label="طرود عامة">
          <option>برميل مواد غذائية</option>
          <option>كرتون صغير</option>
          <option>كرتون متوسط</option>
          <option>كرتون كبير</option>
          <option>شنطة سفر صغيرة</option>
          <option>شنطة سفر كبيرة</option>
          <option>حقيبة ملابس</option>
          <option>ملابس</option>
          <option>أحذية</option>
          <option>أدوات مطبخ</option>
          <option>مواد غذائية متنوعة</option>
          <option>تمور/مواد غذائية</option>
          <option>ألعاب أطفال</option>
          <option>كتب/مطبوعات</option>
          <option>أدوات مكتبية</option>
          <option>مستحضرات تجميل</option>
          <option>معدات/عدد يدوية</option>
          <option>قطع غيار خفيفة</option>
          <option>إطارات</option>
          <option>جنوط</option>
          <option>مواد أخرى</option>
          <option>أخرى (طرد/علبة/حقيبة)</option>
        </optgroup>

        <!-- أجهزة كهربائية (المقاس/البوصة إجباري) -->
        <optgroup label="أجهزة كهربائية (المقاس/البوصة إجباري)">
          <option>ثلاجة صغيرة</option>
          <option>ثلاجة متوسطة</option>
          <option>ثلاجة كبيرة</option>
          <option>فريزر أفقي</option>
          <option>فريزر رأسي</option>
          <option>غسالة ملابس</option>
          <option>نشاف/مجفف ملابس</option>
          <option>غسالة صحون</option>
          <option>مكيف شباك</option>
          <option>مكيف سبليت</option>
          <option>ميكروويف</option>
          <option>فرن كهربائي</option>
          <option>دفاية/سخان ماء</option>
          <option>سخان مركّب</option>
          <option>مكنسة كهربائية</option>
          <option>خلاط/محضّر طعام</option>
          <option>عصارة</option>
          <option>محمصة خبز</option>
          <option>قدر ضغط كهربائي</option>
          <option>ماكينة قهوة</option>
          <option>ماكينة ثلج/مبرد ماء</option>
          <option>تلفزيون 32 بوصة</option>
          <option>تلفزيون 43 بوصة</option>
          <option>تلفزيون 50 بوصة</option>
          <option>تلفزيون 55 بوصة</option>
          <option>تلفزيون 65 بوصة</option>
          <option>تلفزيون 75 بوصة</option>
          <option>شاشة كمبيوتر</option>
          <option>كمبيوتر مكتبي</option>
          <option>لابتوب</option>
          <option>طابعة</option>
          <option>راوتر/مودم</option>
          <option>سماعات كبيرة</option>
          <option>جهاز صوت منزلي</option>
          <option>مشغل أقراص/رسيفر</option>
          <option>مكنة خياطة (كهربائية)</option>
          <option>سكوتر كهربائي</option>
          <option>أجهزة كهربائية أخرى</option>
        </optgroup>

        <!-- أثاث ومقتنيات -->
        <optgroup label="أثاث ومقتنيات">
          <option>دولاب ملابس</option>
          <option>سرير منفرد</option>
          <option>سرير مزدوج</option>
          <option>مرتبة مفرد</option>
          <option>مرتبة مزدوج</option>
          <option>كنبة/أريكة</option>
          <option>طقم جلوس</option>
          <option>طاولة طعام</option>
          <option>طاولات صغيرة</option>
          <option>كراسي</option>
          <option>مكتب</option>
          <option>مكتبة/رفوف</option>
          <option>كومودينو</option>
          <option>مرآة كبيرة</option>
          <option>سجادة</option>
          <option>أثاث متنوع</option>
        </optgroup>

        <!-- أصناف أخرى -->
        <optgroup label="أصناف أخرى">
          <option>دراجة/سيكل</option>
          <option>سكوتر بدون محرك</option>
          <option>معدات رياضية</option>
          <option>آلات موسيقية غير كهربائية</option>
          <option>مواد أخرى</option>
        </optgroup>
      </select>
      <small class="muted">* الوزن والحجم إلزاميان لكل الشحنات — والمقاس/البوصة يظهر ويصبح إلزاميًا فقط للأجهزة الكهربائية.</small>
    </div>

    <div class="row">
      <div class="form-group">
        <label for="weight">الوزن (كجم) <span class="req">*</span></label>
        <input type="number" id="weight" min="1" placeholder="مثال: 25" required />
      </div>
      <div class="form-group">
        <label for="sizeSelect">الحجم <span class="req">*</span></label>
        <select id="sizeSelect" required>
          <option value="">اختر</option>
          <option>صغير</option>
          <option>وسط</option>
          <option>كبير</option>
        </select>
      </div>
    </div>

    <!-- المقاس/البوصة للأجهزة الكهربائية فقط -->
    <div class="form-group" id="dimGroup" style="display:none">
      <label for="dimensions">المقاس/البوصة <span class="req">*</span></label>
      <input id="dimensions" placeholder="مثال: 55 بوصة أو 60x40x40 سم" />
    </div>

    <div style="margin-top:8px"><button id="addToCart">إضافة للسلة</button></div>

    <h3>السلة</h3>
    <ul id="cartList"></ul>

    <div style="margin-top:12px;display:flex;gap:10px">
      <button class="secondary" id="back1">رجوع</button>
      <button id="checkout">إرسال عبر واتساب</button>
    </div>
    <p class="muted">⚠️ لا توجد أسعار في الموقع — سيتم تسعير الطلب يدويًا عبر واتساب (الدفع عند الاستلام).</p>
  </section>

</main>

<footer> أبو عبدو للشحن — من بيتك لبيت أهلك ... شحن مضمون مع أبو عبدو</footer>

<script>
  /* الأجهزة الكهربائية لتفعيل خانة المقاس/البوصة */
  const ELECTRONICS = new Set([
    "ثلاجة صغيرة","ثلاجة متوسطة","ثلاجة كبيرة",
    "فريزر أفقي","فريزر رأسي",
    "غسالة ملابس","نشاف/مجفف ملابس","غسالة صحون",
    "مكيف شباك","مكيف سبليت",
    "ميكروويف","فرن كهربائي",
    "دفاية/سخان ماء","سخان مركّب",
    "مكنسة كهربائية",
    "خلاط/محضّر طعام","عصارة","محمصة خبز","قدر ضغط كهربائي","ماكينة قهوة","ماكينة ثلج/مبرد ماء",
    "تلفزيون 32 بوصة","تلفزيون 43 بوصة","تلفزيون 50 بوصة","تلفزيون 55 بوصة","تلفزيون 65 بوصة","تلفزيون 75 بوصة",
    "شاشة كمبيوتر","كمبيوتر مكتبي","لابتوب","طابعة","راوتر/مودم",
    "سماعات كبيرة","جهاز صوت منزلي","مشغل أقراص/رسيفر",
    "مكنة خياطة (كهربائية)","سكوتر كهربائي",
    "أجهزة كهربائية أخرى"
  ]);

  /* عناصر DOM */
  const step1=document.getElementById("step1");
  const step2=document.getElementById("step2");
  const toStep2Btn=document.getElementById("toStep2");
  const back1Btn=document.getElementById("back1");
  const addToCartBtn=document.getElementById("addToCart");
  const checkoutBtn=document.getElementById("checkout");
  const cartList=document.getElementById("cartList");

  const itemSel=document.getElementById("item");
  const weightIn=document.getElementById("weight");
  const sizeSel=document.getElementById("sizeSelect");
  const dimGroup=document.getElementById("dimGroup");
  const dimIn=document.getElementById("dimensions");

  /* إظهار/إخفاء المقاس للأجهزة الكهربائية */
  function toggleDim(){
    if(ELECTRONICS.has(itemSel.value)){
      dimGroup.style.display='block';
      dimIn.setAttribute('required','required');
    }else{
      dimGroup.style.display='none';
      dimIn.removeAttribute('required');
      dimIn.value='';
    }
  }
  itemSel.addEventListener('change', toggleDim);
  toggleDim();

  /* تنقل بين الخطوات */
  toStep2Btn.addEventListener('click', ()=>{ step1.style.display='none'; step2.style.display='block'; });
  back1Btn.addEventListener('click', ()=>{ step2.style.display='none'; step1.style.display='block'; });

  /* السلة */
  let cart=[];
  function renderCart(){
    cartList.innerHTML = cart.length
      ? cart.map((c,i)=>`<li>${i+1}) ${c.item} — ${c.size} — ${c.weight}كجم${c.dim? ' — '+c.dim:''}</li>`).join('')
      : '<li class="muted">السلة فارغة.</li>';
  }

  addToCartBtn.addEventListener('click', ()=>{
    const item=(itemSel.value||'').trim();
    const weight=(weightIn.value||'').trim();
    const size=(sizeSel.value||'').trim();
    const dim = ELECTRONICS.has(item) ? (dimIn.value||'').trim() : '';

    if(!item || !weight || !size || (ELECTRONICS.has(item) && !dim)){
      alert('يرجى إدخال نوع الشحنة، الوزن، الحجم، والمقاس/البوصة للأجهزة.');
      return;
    }
    cart.push({item,weight,size,dim});
    renderCart();
    itemSel.value=''; weightIn.value=''; sizeSel.value=''; dimIn.value='';
    toggleDim();
  });

  /* إرسال الواتساب بكل التفاصيل */
  checkoutBtn.addEventListener('click', ()=>{
    if(cart.length===0){ alert('أضف شحنة واحدة على الأقل'); return; }

    // من الخطوة 1
    const saCity=(document.getElementById('saCity').value||'').trim();
    const sdState=(document.getElementById('sdState').value||'').trim();
    const area=(document.getElementById('area').value||'').trim();
    const shipSpeed=(document.getElementById('shipSpeed').value||'').trim();

    const senderName=(document.getElementById('senderName').value||'').trim();
    const phone=(document.getElementById('phone').value||'').trim();
    const senderNeighborhood=(document.getElementById('senderNeighborhood').value||'').trim();
    const senderStreet=(document.getElementById('senderStreet').value||'').trim();
    const senderLandmark=(document.getElementById('senderLandmark').value||'').trim();

    const receiverName=(document.getElementById('receiverName').value||'').trim();
    const receiverPhone=(document.getElementById('receiverPhone').value||'').trim();

    if(!saCity || !sdState || !area || !shipSpeed ||
       !senderName || !phone || !senderNeighborhood || !senderStreet || !senderLandmark ||
       !receiverName || !receiverPhone){
      alert('يرجى تعبئة جميع حقول الخطوة ١ قبل الإرسال.');
      step2.style.display='none'; step1.style.display='block';
      return;
    }

    const orderId = 'ABD-' + Math.random().toString(36).slice(2,8).toUpperCase();
    const cartLines = cart.map((c,i)=>`${i+1}) ${c.item} — ${c.size} — ${c.weight}كجم${c.dim? ' — '+c.dim:''}`).join('%0A');

    const msg =
      `طلب شحن جديد (${orderId})%0A` +
      `%0A🚚 *بيانات الشحن*%0Aمدينة الشحن: ${saCity}%0Aولاية الاستلام: ${sdState}%0Aالمنطقة: ${area}%0Aنوع الشحن: ${shipSpeed}%0A` +
      `%0A👤 *بيانات المرسل*%0Aالاسم: ${senderName}%0Aالجوال: ${phone}%0Aالحي: ${senderNeighborhood}%0Aالشارع: ${senderStreet}%0Aمعلم بارز: ${senderLandmark}%0A` +
      `%0A👤 *بيانات المستلم*%0Aالاسم: ${receiverName}%0Aالجوال: ${receiverPhone}%0A` +
      `%0A📦 *الشحنات*:%0A${cartLines}%0A` +
      `%0A💰 الدفع عند الاستلام`;

    const whatsappNumber = "966542354559"; // رقمك بصيغة دولية بدون +
    const url = `https://wa.me/${whatsappNumber}?text=${msg}`;
    window.location.href = url;
  });
</script>
</body>
</html>
