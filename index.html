<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>أبو عبدو لخدمات الشحن</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --brand:#0b5ab8;
      --bg:#f7f9fc;
      --card:#ffffff;
      --text:#0a0a0a;
      --muted:#6b7280;
      --danger:#b91c1c;
    }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Tahoma,Arial;margin:0;background:var(--bg);color:var(--text)}
    header{position:sticky;top:0;z-index:20;background:var(--brand);color:#fff;border-bottom:2px solid #083a7a}
    .container{max-width:980px;margin:auto;padding:0 16px}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 0}
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{height:40px;width:auto}
    .brand h1{margin:0;font-size:20px;font-weight:800}
    .links{display:flex;align-items:center;gap:12px;list-style:none;margin:0;padding:0}
    .links a{color:#fff;text-decoration:none;padding:8px 10px;border-radius:8px}
    .links a:hover{background:#084a9c}
    main{padding:20px 0}
    .card{background:var(--card);border-radius:14px;box-shadow:0 6px 18px rgba(2,24,54,.06);padding:18px;margin:14px 0}
    h2{margin:0 0 10px}
    .form-group{margin:10px 0}
    label{display:block;font-weight:700;margin-bottom:6px}
    input,select,button{width:100%;padding:12px 14px;border:1px solid #d8dee9;border-radius:10px;font-size:16px;background:#fff}
    button{background:var(--brand);color:#fff;border:none;cursor:pointer}
    button.secondary{background:#e5e7eb;color:#111}
    .req{color:var(--danger)}
    .muted{color:var(--muted);font-size:14px}
    option[disabled]{color:gray}
    footer{padding:30px 0;color:#374151;text-align:center}
  </style>
</head>
<body>

<header>
  <div class="container nav">
    <div class="brand">
      <img src="logo.png" alt="شعار أبو عبدو للشحن" />
      <h1>أبو عبدو لخدمات الشحن</h1>
    </div>
    <ul class="links">
      <li><a href="#">الرئيسية</a></li>
      <li><a href="#step1">من 🚪 إلى 🚪</a></li>
      <li><a href="https://wa.me/966542354559" target="_blank">تواصل واتساب</a></li>
    </ul>
  </div>
</header>

<main class="container">

  <!-- الخطوة ١ -->
  <section id="step1" class="card">
    <h2>الخطوة ١ – بيانات الشحن</h2>

    <div class="form-group">
      <label for="saCity">مدينة الشحن (السعودية) <span class="req">*</span></label>
      <select id="saCity" required>
        <option value="">اختر</option>
        <option>الرياض</option>
        <option>جدة</option>
        <option>مكة</option>
        <option>المدينة</option>
        <option>الدمام</option>
        <option>الخبر</option>
        <option>القصيم</option>
        <option>أبها</option>
      </select>
    </div>

    <div class="form-group">
      <label for="sdState">الولاية (السودان) <span class="req">*</span></label>
      <select id="sdState" required>
        <option value="">اختر</option>
        <option>ولاية الخرطوم</option>
        <option>الولاية الشمالية</option>
        <option>نهر النيل</option>
        <option>البحر الأحمر</option>
        <option>كسلا</option>
        <option>القضارف</option>
        <option>سنار</option>
        <option>النيل الأزرق</option>
        <option>النيل الأبيض</option>
        <option>الجزيرة</option>
        <option disabled>شمال كردفان — غير متاح</option>
        <option disabled>جنوب كردفان — غير متاح</option>
        <option disabled>غرب كردفان — غير متاح</option>
        <option disabled>شمال دارفور — غير متاح</option>
        <option disabled>جنوب دارفور — غير متاح</option>
        <option disabled>غرب دارفور — غير متاح</option>
        <option disabled>وسط دارفور — غير متاح</option>
        <option disabled>شرق دارفور — غير متاح</option>
      </select>
      <p class="muted">⚠️ ولايات دارفور وكردفان تظهر لكن غير متاحة للاختيار.</p>
    </div>

    <div class="form-group">
      <label for="area">اسم المنطقة <span class="req">*</span></label>
      <input id="area" required />
    </div>

    <div class="row">
      <div class="form-group">
        <label for="senderName">اسم المرسل <span class="req">*</span></label>
        <input id="senderName" required />
      </div>
      <div class="form-group">
        <label for="receiverName">اسم المستلم <span class="req">*</span></label>
        <input id="receiverName" required />
      </div>
    </div>

    <div class="row">
      <div class="form-group">
        <label for="receiverPhone">رقم المستلم (السودان) <span class="req">*</span></label>
        <input id="receiverPhone" required />
      </div>
      <div class="form-group">
        <label for="phone">رقم جوال العميل (السعودية) <span class="req">*</span></label>
        <input id="phone" required />
      </div>
    </div>

    <div class="form-group">
      <label for="senderAddress">عنوان المرسل <span class="req">*</span></label>
      <input id="senderAddress" required />
    </div>

    <!-- نوع الشحن (سريع/عادي) -->
    <div class="form-group">
      <label for="shipSpeed">نوع الشحن <span class="req">*</span></label>
      <select id="shipSpeed" required>
        <option>شحن عادي</option>
        <option>شحن سريع</option>
      </select>
    </div>

    <div style="margin-top:12px">
      <button id="toStep2">التالي</button>
    </div>
  </section>

  <!-- الخطوة ٢ -->
  <section id="step2" class="card" style="display:none">
    <h2>الخطوة ٢ – إضافة الشحنات</h2>

    <div class="form-group">
      <label for="item">نوع الشحنة <span class="req">*</span></label>
      <select id="item" required>
        <option value="">اختر</option>

        <!-- طرود عامة -->
        <optgroup label="طرود عامة">
          <option>برميل مواد غذائية</option>
          <option>كرتون صغير</option>
          <option>كرتون متوسط</option>
          <option>كرتون كبير</option>
          <option>شنطة سفر صغيرة</option>
          <option>شنطة سفر كبيرة</option>
          <option>حقيبة ملابس</option>
          <option>مواد غذائية متنوعة</option>
          <option>مستلزمات منزلية</option>
          <option>ملابس</option>
          <option>أحذية</option>
          <option>أدوات مطبخ</option>
          <option>ألعاب أطفال</option>
          <option>كتب/مطبوعات</option>
          <option>أدوات تجميل</option>
          <option>أدوات مكتبية</option>
          <option>أجهزة غير كهربائية (أدوات يدوية)</option>
          <option>أخرى (طرد/علبة/حقيبة)</option>
        </optgroup>

        <!-- أجهزة كهربائية (المقاس/البوصة إجباري) -->
        <optgroup label="أجهزة كهربائية (المقاس/البوصة إجباري)">
          <option>ثلاجة صغيرة</option>
          <option>ثلاجة متوسطة</option>
          <option>ثلاجة كبيرة</option>
          <option>فريزر أفقي</option>
          <option>فريزر رأسي</option>
          <option>غسالة ملابس</option>
          <option>غسالة صحون</option>
          <option>مكيف شباك</option>
          <option>مكيف سبليت</option>
          <option>ميكروويف</option>
          <option>فرن كهربائي</option>
          <option>دفاية/سخان ماء</option>
          <option>مكنسة كهربائية</option>
          <option>خلاط/محضّر طعام</option>
          <option>عصارة</option>
          <option>محمصة خبز</option>
          <option>قدر ضغط كهربائي</option>
          <option>ماكينة قهوة</option>
          <option>تلفزيون 32 بوصة</option>
          <option>تلفزيون 43 بوصة</option>
          <option>تلفزيون 50 بوصة</option>
          <option>تلفزيون 55 بوصة</option>
          <option>تلفزيون 65 بوصة</option>
          <option>تلفزيون 75 بوصة</option>
          <option>شاشة كمبيوتر</option>
          <option>كمبيوتر مكتبي</option>
          <option>لابتوب</option>
          <option>طابعة</option>
          <option>راوتر/مودم</option>
          <option>سماعات كبيرة</option>
          <option>جهاز صوت منزلي</option>
          <option>مكنة خياطة (كهربائية)</option>
          <option>أجهزة كهربائية أخرى</option>
        </optgroup>

        <!-- أثاث ومقتنيات -->
        <optgroup label="أثاث ومقتنيات">
          <option>دولاب ملابس</option>
          <option>سرير منفرد</option>
          <option>سرير مزدوج</option>
          <option>مرتبة مفرد</option>
          <option>مرتبة مزدوج</option>
          <option>كنبة/أريكة</option>
          <option>طقم جلوس</option>
          <option>طاولة طعام</option>
          <option>طاولات صغيرة</option>
          <option>كراسي</option>
          <option>مكتب</option>
          <option>مكتبة/رفوف</option>
          <option>كومودينو</option>
          <option>مرآة كبيرة</option>
          <option>سجادة</option>
          <option>أثاث متنوع</option>
        </optgroup>

        <!-- أصناف أخرى -->
        <optgroup label="أصناف أخرى">
          <option>دراجة/سيكل</option>
          <option>سكوتر بدون محرك</option>
          <option>سكوتر كهربائي</option>
          <option>قطع غيار سيارات</option>
          <option>إطارات</option>
          <option>جنوط</option>
          <option>معدات/عدد</option>
          <option>أدوات رياضية</option>
          <option>آلات موسيقية غير كهربائية</option>
          <option>مواد أخرى</option>
        </optgroup>
      </select>
      <small class="muted">* الوزن إلزامي لكل الشحنات — المقاس/البوصة يظهر ويصبح إلزاميًا فقط للأجهزة الكهربائية.</small>
    </div>

    <div class="row">
      <div class="form-group">
        <label for="weight">الوزن (كجم) <span class="req">*</span></label>
        <input type="number" id="weight" min="1" placeholder="مثال: 25" required />
      </div>
      <!-- المقاس يظهر فقط للأجهزة -->
      <div class="form-group" id="sizeGroup" style="display:none">
        <label for="size">المقاس/البوصة <span class="req">*</span></label>
        <input id="size" placeholder="مثال: 60×40×40 سم أو 55 بوصة" />
      </div>
    </div>

    <div style="margin-top:8px;display:flex;gap:10px">
      <button id="addToCart">إضافة للسلة</button>
    </div>

    <h3 style="margin-top:16px">السلة</h3>
    <ul id="cartList"></ul>

    <div style="margin-top:12px;display:flex;gap:10px">
      <button class="secondary" id="back1">رجوع</button>
      <button id="checkout">إرسال عبر واتساب</button>
    </div>
    <p class="muted">⚠️ لا توجد أسعار في الموقع — سيتم تسعير الطلب يدويًا عبر واتساب.</p>
  </section>

</main>

<footer>
  أبو عبدو للشحن — اتصل نصل أينما كنت داخل المملكة — شعارنا الصدق والأمانة
</footer>

<script>
  /* الأجهزة الكهربائية (لإجبار المقاس) */
  const ELECTRONICS = new Set([
    "ثلاجة صغيرة","ثلاجة متوسطة","ثلاجة كبيرة","فريزر أفقي","فريزر رأسي",
    "غسالة ملابس","غسالة صحون","مكيف شباك","مكيف سبليت","ميكروويف","فرن كهربائي",
    "دفاية/سخان ماء","مكنسة كهربائية","خلاط/محضّر طعام","عصارة","محمصة خبز",
    "قدر ضغط كهربائي","ماكينة قهوة",
    "تلفزيون 32 بوصة","تلفزيون 43 بوصة","تلفزيون 50 بوصة","تلفزيون 55 بوصة","تلفزيون 65 بوصة","تلفزيون 75 بوصة",
    "شاشة كمبيوتر","كمبيوتر مكتبي","لابتوب","طابعة","راوتر/مودم","سماعات كبيرة","جهاز صوت منزلي","مكنة خياطة (كهربائية)","أجهزة كهربائية أخرى",
    "سكوتر كهربائي"
  ]);

  /* عناصر DOM */
  const step1=document.getElementById("step1");
  const step2=document.getElementById("step2");
  const toStep2Btn=document.getElementById("toStep2");
  const back1Btn=document.getElementById("back1");
  const checkoutBtn=document.getElementById("checkout");
  const addToCartBtn=document.getElementById("addToCart");
  const cartList=document.getElementById("cartList");

  const itemSel=document.getElementById("item");
  const weightIn=document.getElementById("weight");
  const sizeIn=document.getElementById("size");
  const sizeGroup=document.getElementById("sizeGroup");

  /* إظهار/إخفاء المقاس حسب الفئة */
  function toggleSizeField(){
    const isElec = ELECTRONICS.has(itemSel.value);
    if(isElec){
      sizeGroup.style.display='block';
      sizeIn.setAttribute('required','required');
    }else{
      sizeGroup.style.display='none';
      sizeIn.removeAttribute('required');
      sizeIn.value='';
    }
  }
  itemSel.addEventListener('change', toggleSizeField);
  toggleSizeField();

  /* تنقل بين الخطوات */
  toStep2Btn.addEventListener('click', ()=>{ step1.style.display='none'; step2.style.display='block'; });
  back1Btn.addEventListener('click', ()=>{ step2.style.display='none'; step1.style.display='block'; });

  /* السلة ككائنات لضمان ظهور التفاصيل في رسالة واتساب */
  let cart=[];
  function renderCart(){
    if(cart.length===0){ cartList.innerHTML='<li class="muted">السلة فارغة.</li>'; return; }
    cartList.innerHTML = cart.map((it,i)=>`<li>${i+1}) ${it.item} — الوزن: ${it.weight} كجم${it.size? ' — المقاس/البوصة: '+it.size:''}</li>`).join('');
  }

  addToCartBtn.addEventListener('click', ()=>{
    const item=(itemSel.value||'').trim();
    const weight=(weightIn.value||'').trim();
    const isElec=ELECTRONICS.has(item);
    const size=isElec ? (sizeIn.value||'').trim() : '';

    if(!item){ alert('الرجاء اختيار نوع الشحنة.'); return; }
    if(!weight){ alert('الرجاء إدخال الوزن (كجم).'); return; }
    if(isElec && !size){ alert('الرجاء إدخال المقاس/البوصة للجهاز الكهربائي.'); return; }

    cart.push({item,weight,size});
    renderCart();

    itemSel.value=''; weightIn.value=''; sizeIn.value='';
    toggleSizeField();
  });

  /* إرسال عبر واتساب */
  checkoutBtn.addEventListener('click', ()=>{
    const city=document.getElementById('saCity').value.trim();
    const state=document.getElementById('sdState').value.trim();
    const area=document.getElementById('area').value.trim();
    const senderName=document.getElementById('senderName').value.trim();
    const receiverName=document.getElementById('receiverName').value.trim();
    const receiverPhone=document.getElementById('receiverPhone').value.trim();
    const phone=document.getElementById('phone').value.trim();
    const senderAddress=document.getElementById('senderAddress').value.trim();
    const shipSpeed=document.getElementById('shipSpeed').value.trim(); // <-- نوع الشحن

    if(!city || !state || !area || !senderName || !receiverName || !receiverPhone || !phone || !senderAddress){
      alert('يرجى تعبئة جميع الحقول المطلوبة في الخطوة ١.');
      step2.style.display='none'; step1.style.display='block';
      return;
    }
    if(cart.length===0){ alert('يرجى إضافة شحنة واحدة على الأقل إلى السلة.'); return; }

    const orderId = 'ABD-' + Math.random().toString(36).slice(2,6).toUpperCase();
    const cartLines = cart.map((it,i)=>{
      const sz = it.size ? ` — المقاس/البوصة: ${it.size}` : '';
      return `${i+1}) ${it.item} — الوزن: ${it.weight} كجم${sz}`;
    }).join('\n');

    const msg = `📦 طلب شحن جديد (${orderId})
مدينة الشحن: ${city}
ولاية الاستلام: ${state}
منطقة الاستلام: ${area}
نوع الشحن: ${shipSpeed}

👤 بيانات المرسل:
الاسم: ${senderName}
العنوان: ${senderAddress}
رقم الجوال (السعودية): ${phone}

👤 بيانات المستلم:
الاسم: ${receiverName}
رقم الجوال (السودان): ${receiverPhone}

🛒 الشحنات:
${cartLines}
(الدفع عند الاستلام)`;

    const whatsappNumber = "966542354559"; // رقم واتسابك بدون +
    window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(msg)}`,"_blank");
  });
</script>
</body>
</html>
