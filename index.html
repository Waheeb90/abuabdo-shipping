<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ุฃุจู ุนุจุฏู ูุฎุฏูุงุช ุงูุดุญู</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Tahoma,Arial;margin:0;background:#f7f9fc;color:#0a0a0a}
    .container{max-width:980px;margin:auto;padding:16px}
    .card{background:#fff;border-radius:14px;box-shadow:0 6px 18px rgba(2,24,54,.06);padding:18px;margin:14px 0}
    h2{margin-top:0}
    .form-group{margin:10px 0}
    label{display:block;font-weight:700;margin-bottom:6px}
    input,select,button{width:100%;padding:12px 14px;border:1px solid #d8dee9;border-radius:10px;font-size:16px;background:#fff}
    button{background:#0b5ab8;color:#fff;border:none;cursor:pointer}
    button.secondary{background:#e5e7eb;color:#111}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:640px){.row{grid-template-columns:1fr}}
    ul{padding-inline-start:18px}
    small.muted{color:#6b7280}
  </style>
</head>
<body>
  <main class="container">

    <!-- ุงูุฎุทูุฉ 1 -->
    <section id="step1" class="card">
      <h2>ุงูุฎุทูุฉ ูก โ ุจูุงูุงุช ุงูุดุญู</h2>
      <p class="muted">ูู ุงูุณุนูุฏูุฉ ุฅูู ุงูุณูุฏุงู. ุจุนุฏ ุงูุถุบุท ุนูู โุงูุชุงููโ ุณุชูุชูู ูุฅุถุงูุฉ ููุน ุงูุดุญูุฉ (ูุง ุชูุฌุฏ ุฃุณุนุงุฑ ูู ุงููููุน).</p>

      <div class="form-group">
        <label for="saCity">ูุฏููุฉ ุงูุดุญู (ุงูุณุนูุฏูุฉ)</label>
        <select id="saCity" required>
          <option value="">ุงุฎุชุฑ</option>
          <option>ุงูุฑูุงุถ</option>
          <option>ุฌุฏุฉ</option>
          <option>ููุฉ</option>
          <option>ุงููุฏููุฉ</option>
          <option>ุงูุฏูุงู</option>
          <option>ุงูุฎุจุฑ</option>
          <option>ุงููุตูู</option>
          <option>ุฃุจูุง</option>
        </select>
      </div>

      <div class="form-group">
        <label for="sdState">ุงูููุงูุฉ (ุงูุณูุฏุงู)</label>
        <select id="sdState" required></select>
      </div>

      <div class="form-group">
        <label for="area">ุงุณู ุงูููุทูุฉ (ุฅุฌุจุงุฑู)</label>
        <input type="text" id="area" placeholder="ูุซุงู: ุญู ุงูุณูู โ ุฌูุงุฑ ุงููุณุชุดูู" required />
      </div>

      <div class="row">
        <div class="form-group">
          <label for="senderName">ุงุณู ุงููุฑุณู</label>
          <input type="text" id="senderName" placeholder="ูุซุงู: ุฃุญูุฏ ุนูู" required />
        </div>
        <div class="form-group">
          <label for="receiverName">ุงุณู ุงููุณุชูู</label>
          <input type="text" id="receiverName" placeholder="ูุซุงู: ูุญูุฏ ุญุณู" required />
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          <label for="receiverPhone">ุฑูู ุงููุณุชูู (ุงูุณูุฏุงู)</label>
          <input type="text" id="receiverPhone" placeholder="ูุซุงู: 249xxxxxxxx+" required />
        </div>
        <div class="form-group">
          <label for="phone">ุฑูู ุฌูุงู ุงูุนููู (ุงูุณุนูุฏูุฉ)</label>
          <input type="text" id="phone" placeholder="05xxxxxxxx" required />
        </div>
      </div>

      <div class="form-group">
        <label for="senderAddress">ุนููุงู ุงููุฑุณู (ุงุณู ุงูููุทูุฉ + ุงูุดุงุฑุน + ูุนูู ุจุงุฑุฒ)</label>
        <input type="text" id="senderAddress" placeholder="ูุซุงู: ุงููุณูู โ ุดุงุฑุน ุญุณุงู โ ุฌูุงุฑ ูุณุฌุฏ ุงููุฏู" required />
      </div>

      <button id="toStep2">ุงูุชุงูู</button>
    </section>

    <!-- ุงูุฎุทูุฉ 2 -->
    <section id="step2" class="card" style="display:none">
      <h2>ุงูุฎุทูุฉ ูข โ ุงูุณูุฉ</h2>

      <div class="form-group">
        <label for="item">ููุน ุงูุดุญูุฉ</label>
        <select id="item" required>
          <option value="">ุงุฎุชุฑ</option>

          <optgroup label="ุทุฑูุฏ ุนุงูุฉ">
            <option>ุจุฑููู ููุงุฏ ุบุฐุงุฆูุฉ</option>
            <option>ูุฑุชูู ุตุบูุฑ</option>
            <option>ูุฑุชูู ูุชูุณุท</option>
            <option>ูุฑุชูู ูุจูุฑ</option>
            <option>ุดูุทุฉ ุณูุฑ ุตุบูุฑุฉ</option>
            <option>ุดูุทุฉ ุณูุฑ ูุจูุฑุฉ</option>
            <option>ุฃุฎุฑู (ุทุฑุฏ/ุนูุจุฉ/ุญููุจุฉ)</option>
          </optgroup>

          <optgroup label="ุฃุฌูุฒุฉ ููุฑุจุงุฆูุฉ">
            <option>ุซูุงุฌุฉ ุตุบูุฑุฉ</option>
            <option>ุซูุงุฌุฉ ูุชูุณุทุฉ</option>
            <option>ุซูุงุฌุฉ ูุจูุฑุฉ</option>
            <option>ูุฑูุฒุฑ ุฃููู</option>
            <option>ูุฑูุฒุฑ ุฑุฃุณู</option>
            <option>ุบุณุงูุฉ ููุงุจุณ</option>
            <option>ุบุณุงูุฉ ุตุญูู</option>
            <option>ูููู ุดุจุงู</option>
            <option>ูููู ุณุจููุช</option>
            <option>ุชููุฒููู 32 ุจูุตุฉ</option>
            <option>ุชููุฒููู 43 ุจูุตุฉ</option>
            <option>ุชููุฒููู 55 ุจูุตุฉ</option>
            <option>ุชููุฒููู 65 ุจูุตุฉ</option>
            <option>ูููุฑูููู</option>
            <option>ูุฑู ููุฑุจุงุฆู</option>
            <option>ุฏูุงูุฉ/ุณุฎุงู ูุงุก</option>
            <option>ูููุณุฉ ููุฑุจุงุฆูุฉ</option>
            <option>ุฎูุงุท/ูุญุถูุฑ ุทุนุงู</option>
            <option>ุฃุฌูุฒุฉ ููุฑุจุงุฆูุฉ ุฃุฎุฑู</option>
          </optgroup>

          <optgroup label="ุฃุซุงุซ ูููุชููุงุช">
            <option>ุฏููุงุจ ููุงุจุณ</option>
            <option>ุณุฑูุฑ</option>
            <option>ูุฑุชุจุฉ</option>
            <option>ุทุงููุฉ</option>
            <option>ูุฑุงุณู</option>
            <option>ุฃุซุงุซ ูุชููุน</option>
          </optgroup>

          <optgroup label="ุฃุตูุงู ุฃุฎุฑู">
            <option>ุฏุฑุงุฌุฉ/ุณููู</option>
            <option>ูุทุน ุบูุงุฑ ุณูุงุฑุงุช</option>
            <option>ููุงุฏ ุฃุฎุฑู</option>
          </optgroup>
        </select>
        <small class="muted">* ุงููุฒู ุฅูุฒุงูู ุฏุงุฆููุง โ ุงูููุงุณ/ุงูุจูุตุฉ ุฅูุฒุงูู ููุท ููุฃุฌูุฒุฉ ุงูููุฑุจุงุฆูุฉ.</small>
      </div>

      <div class="row">
        <div class="form-group">
          <label for="weight">ุงููุฒู (ูุฌู) <span style="color:#b91c1c">*</span></label>
          <input type="number" id="weight" placeholder="ูุซุงู: 25" required />
        </div>
        <!-- ูุธูุฑ ููุท ููุฃุฌูุฒุฉ ุงูููุฑุจุงุฆูุฉ -->
        <div class="form-group" id="sizeGroup" style="display:none">
          <label for="size">ุงูููุงุณ/ุงูุจูุตุฉ <span style="color:#b91c1c">*</span></label>
          <input type="text" id="size" placeholder="ูุซุงู: 60ร40ร40 ุณู ุฃู 55 ุจูุตุฉ" />
        </div>
      </div>

      <button id="addToCart">ุฅุถุงูุฉ ููุณูุฉ</button>

      <ul id="cartList"></ul>

      <div class="row">
        <button class="secondary" id="back1">ุฑุฌูุน</button>
        <button id="checkout">ุฅุฑุณุงู ุงูุทูุจ</button>
      </div>
    </section>

  </main>

  <footer class="container">
    <p>ยฉ ุฃุจู ุนุจุฏู ูุฎุฏูุงุช ุงูุดุญู</p>
  </footer>

  <script>
    // ููุงูุงุช ุงูุณูุฏุงู
    const states = [
      "ุงูุฎุฑุทูู","ุงูููุงูุฉ ุงูุดูุงููุฉ","ููุฑ ุงูููู","ูุณูุง","ุงูุจุญุฑ ุงูุฃุญูุฑ",
      "ุงูููู ุงูุฃุฒุฑู","ุงููุถุงุฑู","ุณูุงุฑ","ุงูุฌุฒูุฑุฉ","ุงูููู ุงูุฃุจูุถ",
    ];
    const sdState = document.getElementById('sdState');
    sdState.innerHTML = '<option value="">ุงุฎุชุฑ</option>' + states.map(s => `<option>${s}</option>`).join('');

    // ุนูุงุตุฑ ุนุงูุฉ
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const toStep2Btn = document.getElementById('toStep2');
    const back1Btn = document.getElementById('back1');
    const checkoutBtn = document.getElementById('checkout');
    const addToCartBtn = document.getElementById('addToCart');
    const cartList = document.getElementById('cartList');

    // ุนูุงุตุฑ ุงูุดุญูุฉ
    const itemSel  = document.getElementById('item');
    const weightIn = document.getElementById('weight');
    const sizeIn   = document.getElementById('size');
    const sizeGroup= document.getElementById('sizeGroup');

    // ูุฌููุนุฉ ุงูุฃุฌูุฒุฉ ุงูููุฑุจุงุฆูุฉ
    const ELECTRONICS = new Set([
      "ุซูุงุฌุฉ ุตุบูุฑุฉ","ุซูุงุฌุฉ ูุชูุณุทุฉ","ุซูุงุฌุฉ ูุจูุฑุฉ","ูุฑูุฒุฑ ุฃููู","ูุฑูุฒุฑ ุฑุฃุณู","ุบุณุงูุฉ ููุงุจุณ","ุบุณุงูุฉ ุตุญูู",
      "ูููู ุดุจุงู","ูููู ุณุจููุช","ุชููุฒููู 32 ุจูุตุฉ","ุชููุฒููู 43 ุจูุตุฉ","ุชููุฒููู 55 ุจูุตุฉ","ุชููุฒููู 65 ุจูุตุฉ",
      "ูููุฑูููู","ูุฑู ููุฑุจุงุฆู","ุฏูุงูุฉ/ุณุฎุงู ูุงุก","ูููุณุฉ ููุฑุจุงุฆูุฉ","ุฎูุงุท/ูุญุถูุฑ ุทุนุงู","ุฃุฌูุฒุฉ ููุฑุจุงุฆูุฉ ุฃุฎุฑู"
    ]);

    // ุฅุธูุงุฑ/ุฅุฎูุงุก ุฎุงูุฉ ุงูููุงุณ ุญุณุจ ููุน ุงูุดุญูุฉ
    function toggleSizeField(){
      const isElec = ELECTRONICS.has(itemSel.value);
      if(isElec){
        sizeGroup.style.display = 'block';
        sizeIn.setAttribute('required','required');
      }else{
        sizeGroup.style.display = 'none';
        sizeIn.removeAttribute('required');
        sizeIn.value = '';
      }
    }
    itemSel.addEventListener('change', toggleSizeField);
    toggleSizeField(); // ุงูุชููุฆุฉ

    // ุชููู ุจูู ุงูุฎุทูุงุช
    toStep2Btn.addEventListener('click', ()=>{
      step1.style.display = 'none';
      step2.style.display = 'block';
    });
    back1Btn.addEventListener('click', ()=>{
      step2.style.display = 'none';
      step1.style.display = 'block';
    });

    // ุงูุณูุฉ
    let cart = [];
    function renderCart(){ cartList.innerHTML = cart.map((c,i)=> `<li>${i+1}) ${c}</li>`).join(''); }

    addToCartBtn.addEventListener('click', ()=>{
      const item   = (itemSel.value || '').trim();
      const weight = (weightIn.value || '').trim();
      const isElec = ELECTRONICS.has(item);
      const size   = (sizeIn.value || '').trim();

      if(!item){ alert("ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ููุน ุงูุดุญูุฉ."); return; }
      if(!weight){ alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงููุฒู (ูุฌู)."); return; }
      if(isElec && !size){ alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูููุงุณ/ุงูุจูุตุฉ ููุฌูุงุฒ ุงูููุฑุจุงุฆู."); return; }

      const sizeText = isElec && size ? ` โ ุงูููุงุณ/ุงูุจูุตุฉ: ${size}` : '';
      const line = `${item} โ ุงููุฒู: ${weight} ูุฌู${sizeText}`;
      cart.push(line);
      renderCart();

      itemSel.value = ''; weightIn.value = ''; sizeIn.value = '';
      toggleSizeField();
    });

    // ุฅุฑุณุงู ุนุจุฑ ูุงุชุณุงุจ
    checkoutBtn.addEventListener('click', ()=>{
      const city           = document.getElementById('saCity').value;
      const state          = document.getElementById('sdState').value;
      const area           = document.getElementById('area').value;
      const senderName     = document.getElementById('senderName').value;
      const receiverName   = document.getElementById('receiverName').value;
      const receiverPhone  = document.getElementById('receiverPhone').value;
      const phone          = document.getElementById('phone').value;
      const senderAddress  = document.getElementById('senderAddress').value;

      if(!city || !state || !area || !senderName || !receiverName || !receiverPhone || !phone || !senderAddress){
        alert("ูุฑุฌู ุชุนุจุฆุฉ ุฌููุน ุงูุญููู ุงููุทููุจุฉ ูู ุงูุฎุทูุฉ ูก.");
        step1.scrollIntoView({behavior:'smooth'});
        step2.style.display = 'none';
        step1.style.display = 'block';
        return;
      }
      if(cart.length===0){ alert("ูุฑุฌู ุฅุถุงูุฉ ุดุญูุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู ุฅูู ุงูุณูุฉ."); return; }

      const orderId = 'ABD-' + Math.random().toString(36).slice(2,6).toUpperCase();
      const cartLines = cart.map((c,i)=> `${i+1}) ${c}`).join('\n');

      const msg = `๐ฆ ุทูุจ ุดุญู ุฌุฏูุฏ (${orderId})
ูุฏููุฉ ุงูุดุญู: ${city}
ููุงูุฉ ุงูุงุณุชูุงู: ${state}
ููุทูุฉ ุงูุงุณุชูุงู: ${area}

๐ค ุจูุงูุงุช ุงููุฑุณู:
ุงูุงุณู: ${senderName}
ุงูุนููุงู: ${senderAddress}
ุฑูู ุงูุฌูุงู (ุงูุณุนูุฏูุฉ): ${phone}

๐ค ุจูุงูุงุช ุงููุณุชูู:
ุงูุงุณู: ${receiverName}
ุฑูู ุงูุฌูุงู (ุงูุณูุฏุงู): ${receiverPhone}

๐ ุงูุณูุฉ:
${cartLines}
(ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู)`;

      const whatsappNumber = "966542354559"; // ุถุน ุฑููู ููุง (ุจุฏูู +)
      const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(msg)}`;
      window.location.href = url;
    });
  </script>
</body>
</html>
